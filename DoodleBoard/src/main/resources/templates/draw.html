<!DOCTYPE html>
<html lang="en"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Doodle Board - Draw!</title>

    <link rel="icon" type="image/png" th:href="@{images/favicon.ico}">
    <link rel="stylesheet" th:href="@{/webjars/bootstrap/4.5.2/css/bootstrap.min.css}"/>
    <link rel="stylesheet" type="text/css" th:href="@{main.css}"/>

    <!-- Google fonts import for Roboto, Open Sans -->
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400&family=Roboto:wght@300;400&display=swap" rel="stylesheet">
    <!-- P5JS Library (Minified) script -->
    <script th:src="@{scripts/p5.min.js}"></script>
</head>
<body>
    <br/><br/>
    <div class="pagetitle">
        <img th:src="@{images/website_logo.png}"
             alt="Logo of the website, a painting canvas."
             style="width: 64px; height: 64px; margin-bottom: -10px;"/>
        Doodle Board
    </div>
    <h1 class="pagetitle">Draw your doodle!</h1>

    <p class="centeredP"><a th:href="@{/feed}">Your Feed</a> | <a th:href="@{/logout}">Logout</a></p>

    <!-- Hidden input element which stores the palette list received from the Model in value attribute -->
    <input type="hidden" th:value="${palette}" id="plt"/>

    <!-- Gets the palette from the model and shows it on screen -->
    <div class="palettes">
        <p>Your choices of colors are: </p>
        <div class="paletteInfo" th:each="swatch: ${palette}">
            <div class="swatch" th:style="'background:' + ${swatch} + ';'"></div>
            <span class="swatchname" th:text="${swatch}">#HEXCOL</span>
        </div>
        <p>Credits to the user <a href="http://pixeljoint.com/p/67405.htm">mordfikosz</a> on
            <a href="http://pixeljoint.com/2016/05/06/4962/11_Color_Comp_Winners.htm">PixelJoint Website</a>, for this palette.</p>
    </div>

    <!-- div to contain canvas generated by p5js -->
    <div id="p5CanvasDiv">
        <!--P5 canvas will be inserted in here-->
    </div>

    <form method="post" id="drawingForm" th:object="${doodlepost}">
        <span class="errormsg"
              th:if="${#fields.hasErrors('content.data')}"
            th:errors="*{content.data}">Drawing Error</span>
        <!-- Hidden input element which will store the drawing String in its value attribute -->
        <input type="hidden" th:field="*{content.data}" id="drawingStr" />

        <!-- Text input to store title of the doodle -->
        <input type="text" size="40" placeholder="Enter your title for the doodle" th:field="*{title}" id="dtitle"/>
        <span class="errormsg" th:if="${#fields.hasErrors('title')}" th:errors="*{title}">Title Error</span>
        <button id="submitBtn">Post Your Doodle</button>
    </form>
    <!-- p5js running script -->
    <script th:src="@{scripts/draw_script.js}"></script>
    <footer>Copyright @2020 | Sebin Puthenthara Suresh | CS 321-1</footer>
    <script th:src="@{webjars/jquery/3.5.1/jquery.min.js}"></script>
    <script th:src="@{webjars/popper.js/1.16.0/umd/popper.min.js}"></script>
    <script th:src="@{webjars/bootstrap/4.5.2/js/bootstrap.min.js}"></script>
</body>
</html>